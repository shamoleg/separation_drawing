# Приложение для отрисовки частиц сгенерированных LAMMPS

## Запуск программы

Перед запуском программы необходимо перейти в директорию DistributionKit, где находится исполняемый файл. Программу можно также собрать самостоятельно (порядок действий указан в пункте *Сборка программы*)
Открыв файл конфигурации config.json заполнить поля параметров dump файлов:

- dumpPath - полный путь до директории с дампами
- dumpFileName - название файлов дампов с точкой
- dumpStep - шаг дампа, целое число между каждым файлом, после точки

Далее можно запускать программу.

### Всплывающие ошибки

Если вы запустили программу и открывается диалоговое окно, значит вы неправильно отредактировали config.json:

- **Can't find config file: config.json** - отсутствует конфигурационный файл в папке с собранным проектом
- **Failed to create config from JSON** - файл config.json был найден, но неправильное форматирование по стандарту JSON
- **Can't find file:<путь до dump файла из config.json>** - dump файл не был найден, необходимо проверить правильность конфигурации config.json

## Сборка программы

Для запуска кода необходимо установить Qt, для этого в терминале ввести команду:

``` bash
sudo apt update
sudo apt install qt5-default
```

Далее необходимо собрать проект. Можно для этого использовать qtcreator предварительно установив его командой:

``` bash
sudo apt install qtcreator
```

Также можно использовать терминал, для этого откройте в терминале папку с проектом. Далее необходимо выполнить следующие команды

``` bash
mkdir build
cd build
qmake ..
make
```

## Использование кода в готовом проекте

Для добавления отрисовки в готовый проект на QT необходимо скопировать файлы drawwidget.h/.cpp, flask.h/.cpp и config.json в папку с вашим проектом.
В файле проекта qmake с расширением .pro добавить следующие строчки:

``` qmake
SOURCES += \
    drawwidget.cpp \
    flask.cpp \

HEADERS += \
    drawwidget.h \
    flask.h \

OTHER_FILES += \
    config.json

unix {
    for(FILE, OTHER_FILES){
        QMAKE_POST_LINK += $$quote(cp $${PWD}/$${FILE} $${OUT_PWD})
    }
}
```

Открыть форму(файл с расширением .ui) и добавить Widget в то место, где предполагается отрисовывать колбу.

Далее нажать правой кнопкой мыши по добавленному объекту и в выпавшем меню нажать на кнопку Promoted to.

В открывшемся окне в поле ввести название виджета DrawWidget и нажать кнопочку Add.

Выбирать необходимый класс в окне и нажать кнопку Promote с зеленой галочкой.
Далее необходимо соединить слоты startDrawTimer() и stopDrawTimer() для запуска и остановки отрисовки сепарации.

Пример соединение слотов с кнопками для separationDrawer экземпляра класса DrawWidget представлен ниже:

``` c++
connect(ui->buttonStart, SIGNAL(clicked()),ui->separationDrawer, SLOT(startDrawTimer()));
connect(ui->buttonStop, SIGNAL(clicked()), ui->separationDrawer, SLOT(stopDrawTimer()));
```
